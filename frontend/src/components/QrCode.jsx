import { useRef } from 'react';
import html2canvas from 'html2canvas';
import { saveAs } from 'file-saver';
import jsPDF from 'jspdf'; // Import jsPDF
import { Plus, X } from "lucide-react";


const QrCode = ({ qrImage, seeQrCode }) => {
    const divRef = useRef(null);

    const handleDownloadImage = async () => {
        if (divRef.current) {
            try {
                const canvas = await html2canvas(divRef.current, {
                    useCORS: true, // If your div contains images from other origins
                    allowTaint: true, // Allow images from other origins to taint the canvas
                    backgroundColor: '#ffff',
                    scale: 4,
                });
                const image = canvas.toDataURL('image/png');
                canvas.toBlob((blob) => {
                    if (blob) {
                        saveAs(blob, 'QR-CODE.png');
                    }
                }, 'image/png');
            } catch (error) {
                console.error("Error capturing div as image:", error);
            }
        }
    };

    const handleDownloadPdf = async () => {
        if (divRef.current) {
            try {
                const canvas = await html2canvas(divRef.current, {
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    scale: 2,
                });

                // Convert canvas to image data URL
                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF('p', 'mm', 'a4');
                // Calculate dimensions to fit on PDF page while maintaining aspect ratio
                const imgWidth = 210; // A4 width in mm (210mm)
                const pageHeight = 297; // A4 height in mm (297mm)
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                let heightLeft = imgHeight;
                let position = 0;
                // Add the image to the PDF
                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;

                // If the content is taller than one page, add new pages
                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }

                pdf.save('qr-code.pdf'); // Download the PDF

            } catch (error) {
                console.error("Error capturing div as PDF:", error);
            }
        }
    };
    return (
        <div className='flex justify-center items-center sm:relative'>
            <div>
                <botton onClick={() => seeQrCode(false)} className="absolute z-20 sm:-top-12 sm:-right-12 top-4 right-4 dark:bg-subtitle-dark bg-subtitle-light dark:text-bg-dark text-bg-light rounded-full p-1 hover:scale-105 transition-all">
                    <X className="w-8 h-8" />
                </botton>
            </div>
            <div className='sm:max-w-2xl h-fit w-full flex flex-col justify-center items-center rounded-3xl overflow-y-auto shadow dark:shadow-subtitle-dark/20 shadow-subtitle-light/20 dark:bg-card-dark dark:text-title-dark bg-card-light text-title-light space-y-4 p-4 transition-all no-scrollbar'>
                <h2 className="text-4xl font-bold mb-4 dark:text-title-dark text-title-light">Qr Code</h2>            
                <div ref={divRef} className='w-full'>
                    <div className='w-full'>
                        <svg viewBox="0 0 175 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M174 1V42H1V1H174Z" fill="#FF3C50" stroke="black" stroke-width="2" />
                            <path d="M24.6044 13.4109V9.54545H44.9134V13.4109H37.0459V35H32.472V13.4109H24.6044ZM70.4456 22.2727C70.4456 25.0154 69.9319 27.3645 68.9044 29.32C67.8853 31.2672 66.4932 32.7586 64.7283 33.7944C62.9717 34.8301 60.9789 35.348 58.75 35.348C56.521 35.348 54.5241 34.8301 52.7592 33.7944C51.0026 32.7504 49.6105 31.2547 48.5831 29.3075C47.5639 27.352 47.0543 25.0071 47.0543 22.2727C47.0543 19.5301 47.5639 17.1851 48.5831 15.2379C49.6105 13.2824 51.0026 11.7868 52.7592 10.7511C54.5241 9.71532 56.521 9.19744 58.75 9.19744C60.9789 9.19744 62.9717 9.71532 64.7283 10.7511C66.4932 11.7868 67.8853 13.2824 68.9044 15.2379C69.9319 17.1851 70.4456 19.5301 70.4456 22.2727ZM65.8096 22.2727C65.8096 20.3421 65.5072 18.7139 64.9023 17.3881C64.3057 16.0541 63.4771 15.0473 62.4165 14.3679C61.3559 13.6802 60.1337 13.3363 58.75 13.3363C57.3662 13.3363 56.144 13.6802 55.0834 14.3679C54.0228 15.0473 53.1901 16.0541 52.5852 17.3881C51.9886 18.7139 51.6903 20.3421 51.6903 22.2727C51.6903 24.2034 51.9886 25.8357 52.5852 27.1697C53.1901 28.4955 54.0228 29.5022 55.0834 30.19C56.144 30.8694 57.3662 31.2092 58.75 31.2092C60.1337 31.2092 61.3559 30.8694 62.4165 30.19C63.4771 29.5022 64.3057 28.4955 64.9023 27.1697C65.5072 25.8357 65.8096 24.2034 65.8096 22.2727ZM86.1776 20.4208V24.1246H74.7181V20.4208H86.1776ZM91.1088 35V9.54545H95.7199V31.1346H106.931V35H91.1088ZM110.933 35V9.54545H127.488V13.4109H115.544V20.3214H126.631V24.1868H115.544V31.1346H127.588V35H110.933ZM131.074 13.4109V9.54545H151.383V13.4109H143.516V35H138.942V13.4109H131.074Z" fill="white" />
                        </svg>
                    </div>
                    <div className='w-full relative'>
                        <svg viewBox="0 0 175 175" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="path-1-inside-1_123_62" fill="white">
                                <path d="M0 0H175V175H0V0Z" />
                            </mask>
                            <path d="M0 0H175V175H0V0Z" fill="white" />
                            <path d="M175 0H173V175H175H177V0H175ZM0 175H2V0H0H-2V175H0Z" fill="black" mask="url(#path-1-inside-1_123_62)" />
                            <rect x="13" y="13" width="149" height="149" fill="black" fill-opacity="0.1" />
                        </svg>
                        <div className='w-[95%] absolute top-[50%] left-[50%] transform -translate-x-[50%] -translate-y-[50%]'>
                            <img className='w-full' src={qrImage} alt="" srcset="" />
                        </div>
                    </div>
                    <div className='w-full'>
                        <svg viewBox="0 0 175 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M174 1V28H1V1H174Z" fill="#FF3C50" stroke="black" stroke-width="2" />
                            <path d="M36.8606 9.104L36.7209 21.2046H32.9202V6.92236L36.8606 9.104Z" fill="white" stroke="white" />
                            <path d="M27.4844 8.83071V13.3603V21.8222H37.2902V8.83071L32.3873 6L27.4844 8.83071Z" stroke="white" stroke-width="0.35" stroke-linejoin="round" />
                            <path d="M32.3872 6.01843V21.7725" stroke="white" stroke-width="0.35" stroke-linejoin="round" />
                            <path d="M30.72 6.93921L30.72 21.7724" stroke="white" stroke-width="0.35" stroke-linejoin="round" />
                            <path d="M29.2263 7.7854L29.2263 21.7724" stroke="white" stroke-width="0.35" stroke-linejoin="round" />
                            <rect x="34.4529" y="8.7312" width="0.84619" height="1.34395" rx="0.2" fill="#FF3C50" />
                            <rect x="34.4529" y="11.4191" width="0.84619" height="1.34395" rx="0.2" fill="#FF3C50" />
                            <rect x="34.4529" y="14.1069" width="0.84619" height="1.34395" rx="0.2" fill="#FF3C50" />
                            <rect x="34.4529" y="16.7948" width="0.84619" height="1.34395" rx="0.2" fill="#FF3C50" />
                            <rect x="34.4529" y="19.4827" width="0.84619" height="1.34395" rx="0.2" fill="#FF3C50" />
                            <rect x="24" y="14.3345" width="7.66549" height="7.66549" rx="0.7" fill="white" />
                            <g clip-path="url(#clip0_123_43)">
                                <rect x="24.3982" y="14.7825" width="6.8193" height="6.8193" rx="0.5" fill="#FF3C50" />
                                <path d="M27.6658 17.6239C27.8064 17.6239 27.9471 17.6239 28.092 17.6239C28.092 17.7645 28.092 17.9052 28.092 18.0501C28.2326 18.0501 28.3733 18.0501 28.5182 18.0501C28.5182 18.3314 28.5182 18.6127 28.5182 18.9025C28.6588 18.9025 28.7995 18.9025 28.9444 18.9025C28.9444 18.7619 28.9444 18.6212 28.9444 18.4763C29.085 18.4763 29.2257 18.4763 29.3706 18.4763C29.3706 18.617 29.3706 18.7576 29.3706 18.9025C29.5112 18.9025 29.6519 18.9025 29.7968 18.9025C29.7968 19.0432 29.7968 19.1838 29.7968 19.3287C29.5155 19.3287 29.2342 19.3287 28.9444 19.3287C28.9444 19.4694 28.9444 19.61 28.9444 19.7549C28.8037 19.7549 28.6631 19.7549 28.5182 19.7549C28.5182 19.8956 28.5182 20.0362 28.5182 20.1811C28.6588 20.1811 28.7995 20.1811 28.9444 20.1811C28.9444 20.3218 28.9444 20.4624 28.9444 20.6073C29.2257 20.6073 29.507 20.6073 29.7968 20.6073C29.7968 20.748 29.7968 20.8886 29.7968 21.0336C29.3749 21.0336 28.9529 21.0336 28.5182 21.0336C28.5182 20.8929 28.5182 20.7523 28.5182 20.6073C28.3775 20.6073 28.2369 20.6073 28.092 20.6073C28.092 20.4667 28.092 20.326 28.092 20.1811C27.9513 20.1811 27.8107 20.1811 27.6658 20.1811C27.6658 19.8998 27.6658 19.6185 27.6658 19.3287C27.8064 19.3287 27.9471 19.3287 28.092 19.3287C28.092 19.0474 28.092 18.7661 28.092 18.4763C27.9513 18.4763 27.8107 18.4763 27.6658 18.4763C27.6658 18.195 27.6658 17.9137 27.6658 17.6239Z" fill="white" />
                                <path d="M25.1086 18.9025C25.8119 18.9025 26.5151 18.9025 27.2397 18.9025C27.2397 19.6057 27.2397 20.3089 27.2397 21.0335C26.5364 21.0335 25.8332 21.0335 25.1086 21.0335C25.1086 20.3303 25.1086 19.627 25.1086 18.9025ZM25.5348 19.3287C25.5348 19.7506 25.5348 20.1726 25.5348 20.6073C25.9568 20.6073 26.3787 20.6073 26.8135 20.6073C26.8135 20.1853 26.8135 19.7634 26.8135 19.3287C26.3915 19.3287 25.9696 19.3287 25.5348 19.3287Z" fill="white" />
                                <path d="M28.5181 15.4928C29.2213 15.4928 29.9245 15.4928 30.6491 15.4928C30.6491 16.196 30.6491 16.8993 30.6491 17.6238C29.9459 17.6238 29.2426 17.6238 28.5181 17.6238C28.5181 16.9206 28.5181 16.2173 28.5181 15.4928ZM28.9443 15.919C28.9443 16.3409 28.9443 16.7629 28.9443 17.1976C29.3662 17.1976 29.7882 17.1976 30.2229 17.1976C30.2229 16.7757 30.2229 16.3537 30.2229 15.919C29.8009 15.919 29.379 15.919 28.9443 15.919Z" fill="white" />
                                <path d="M25.1086 15.4928C25.8119 15.4928 26.5151 15.4928 27.2397 15.4928C27.2397 16.196 27.2397 16.8993 27.2397 17.6238C26.5364 17.6238 25.8332 17.6238 25.1086 17.6238C25.1086 16.9206 25.1086 16.2173 25.1086 15.4928ZM25.5348 15.919C25.5348 16.3409 25.5348 16.7629 25.5348 17.1976C25.9568 17.1976 26.3787 17.1976 26.8135 17.1976C26.8135 16.7757 26.8135 16.3537 26.8135 15.919C26.3915 15.919 25.9696 15.919 25.5348 15.919Z" fill="white" />
                                <path d="M29.3706 18.05C29.7925 18.05 30.2145 18.05 30.6492 18.05C30.6492 18.1907 30.6492 18.3313 30.6492 18.4763C30.5086 18.4763 30.3679 18.4763 30.223 18.4763C30.223 18.6169 30.223 18.7576 30.223 18.9025C30.0824 18.9025 29.9417 18.9025 29.7968 18.9025C29.7968 18.7618 29.7968 18.6212 29.7968 18.4763C29.6562 18.4763 29.5155 18.4763 29.3706 18.4763C29.3706 18.3356 29.3706 18.195 29.3706 18.05Z" fill="white" />
                                <path d="M25.1086 18.05C25.5306 18.05 25.9525 18.05 26.3873 18.05C26.3873 18.1907 26.3873 18.3313 26.3873 18.4763C25.9653 18.4763 25.5434 18.4763 25.1086 18.4763C25.1086 18.3356 25.1086 18.195 25.1086 18.05Z" fill="white" />
                                <path d="M25.8188 19.6128C26.0533 19.6128 26.2877 19.6128 26.5292 19.6128C26.5292 19.8472 26.5292 20.0816 26.5292 20.3231C26.2948 20.3231 26.0604 20.3231 25.8188 20.3231C25.8188 20.0887 25.8188 19.8543 25.8188 19.6128Z" fill="white" />
                                <path d="M29.2285 16.2031C29.4629 16.2031 29.6973 16.2031 29.9389 16.2031C29.9389 16.4375 29.9389 16.672 29.9389 16.9135C29.7044 16.9135 29.47 16.9135 29.2285 16.9135C29.2285 16.6791 29.2285 16.4446 29.2285 16.2031Z" fill="white" />
                                <path d="M25.8188 16.2031C26.0533 16.2031 26.2877 16.2031 26.5292 16.2031C26.5292 16.4375 26.5292 16.672 26.5292 16.9135C26.2948 16.9135 26.0604 16.9135 25.8188 16.9135C25.8188 16.6791 25.8188 16.4446 25.8188 16.2031Z" fill="white" />
                                <path d="M27.6658 16.3452C27.8064 16.3452 27.9471 16.3452 28.092 16.3452C28.092 16.6265 28.092 16.9078 28.092 17.1976C27.9513 17.1976 27.8107 17.1976 27.6658 17.1976C27.6658 16.9163 27.6658 16.635 27.6658 16.3452Z" fill="white" />
                                <path d="M30.2229 20.6073C30.3635 20.6073 30.5042 20.6073 30.6491 20.6073C30.6491 20.7479 30.6491 20.8886 30.6491 21.0335C30.5085 21.0335 30.3678 21.0335 30.2229 21.0335C30.2229 20.8929 30.2229 20.7522 30.2229 20.6073Z" fill="white" />
                                <path d="M27.6658 20.6073C27.8064 20.6073 27.9471 20.6073 28.092 20.6073C28.092 20.7479 28.092 20.8886 28.092 21.0335C27.9513 21.0335 27.8107 21.0335 27.6658 21.0335C27.6658 20.8929 27.6658 20.7522 27.6658 20.6073Z" fill="white" />
                                <path d="M29.7969 20.181C29.9375 20.181 30.0782 20.181 30.2231 20.181C30.2231 20.3217 30.2231 20.4623 30.2231 20.6072C30.0824 20.6072 29.9418 20.6072 29.7969 20.6072C29.7969 20.4666 29.7969 20.3259 29.7969 20.181Z" fill="white" />
                                <path d="M30.2229 19.7549C30.3635 19.7549 30.5042 19.7549 30.6491 19.7549C30.6491 19.8955 30.6491 20.0362 30.6491 20.1811C30.5085 20.1811 30.3678 20.1811 30.2229 20.1811C30.2229 20.0404 30.2229 19.8998 30.2229 19.7549Z" fill="white" />
                                <path d="M29.3706 19.7549C29.5113 19.7549 29.6519 19.7549 29.7968 19.7549C29.7968 19.8955 29.7968 20.0362 29.7968 20.1811C29.6562 20.1811 29.5155 20.1811 29.3706 20.1811C29.3706 20.0404 29.3706 19.8998 29.3706 19.7549Z" fill="white" />
                                <path d="M30.2229 18.9025C30.3635 18.9025 30.5042 18.9025 30.6491 18.9025C30.6491 19.0431 30.6491 19.1838 30.6491 19.3287C30.5085 19.3287 30.3678 19.3287 30.2229 19.3287C30.2229 19.188 30.2229 19.0474 30.2229 18.9025Z" fill="white" />
                                <path d="M26.8135 18.05C26.9541 18.05 27.0948 18.05 27.2397 18.05C27.2397 18.1907 27.2397 18.3313 27.2397 18.4763C27.099 18.4763 26.9584 18.4763 26.8135 18.4763C26.8135 18.3356 26.8135 18.195 26.8135 18.05Z" fill="white" />
                                <path d="M27.6658 15.4928C27.8064 15.4928 27.9471 15.4928 28.092 15.4928C28.092 15.6334 28.092 15.7741 28.092 15.919C27.9513 15.919 27.8107 15.919 27.6658 15.919C27.6658 15.7784 27.6658 15.6377 27.6658 15.4928Z" fill="white" />
                            </g>
                            <path d="M44.6574 20V11.2727H47.9983C48.629 11.2727 49.1532 11.3722 49.5708 11.571C49.9912 11.767 50.3052 12.0355 50.5125 12.3764C50.7228 12.7173 50.8279 13.1037 50.8279 13.5355C50.8279 13.8906 50.7597 14.1946 50.6233 14.4474C50.487 14.6974 50.3037 14.9006 50.0736 15.0568C49.8435 15.2131 49.5864 15.3253 49.3023 15.3935V15.4787C49.612 15.4957 49.9088 15.5909 50.1929 15.7642C50.4799 15.9347 50.7142 16.1761 50.8961 16.4886C51.0779 16.8011 51.1688 17.179 51.1688 17.6222C51.1688 18.0739 51.0594 18.4801 50.8407 18.8409C50.6219 19.1989 50.2924 19.4815 49.852 19.6889C49.4117 19.8963 48.8577 20 48.1901 20H44.6574ZM46.2384 18.679H47.9387C48.5125 18.679 48.9259 18.5696 49.1787 18.3509C49.4344 18.1293 49.5623 17.8452 49.5623 17.4986C49.5623 17.2401 49.4983 17.0071 49.3705 16.7997C49.2427 16.5895 49.0608 16.4247 48.825 16.3054C48.5892 16.1832 48.308 16.1222 47.9813 16.1222H46.2384V18.679ZM46.2384 14.9844H47.8023C48.075 14.9844 48.3208 14.9347 48.5395 14.8352C48.7583 14.733 48.9302 14.5895 49.0552 14.4048C49.183 14.2173 49.2469 13.9957 49.2469 13.7401C49.2469 13.402 49.1276 13.1236 48.889 12.9048C48.6532 12.6861 48.3023 12.5767 47.8364 12.5767H46.2384V14.9844ZM54.3595 20.1321C53.9447 20.1321 53.5711 20.0582 53.2387 19.9105C52.9092 19.7599 52.6478 19.5384 52.4547 19.2457C52.2643 18.9531 52.1691 18.5923 52.1691 18.1634C52.1691 17.794 52.2373 17.4886 52.3737 17.2472C52.5101 17.0057 52.6961 16.8125 52.9319 16.6676C53.1677 16.5227 53.4333 16.4134 53.7288 16.3395C54.0271 16.2628 54.3353 16.2074 54.6535 16.1733C55.037 16.1335 55.3481 16.098 55.5868 16.0668C55.8254 16.0327 55.9987 15.9815 56.1066 15.9134C56.2174 15.8423 56.2728 15.733 56.2728 15.5852V15.5597C56.2728 15.2386 56.1777 14.9901 55.9873 14.8139C55.797 14.6378 55.5228 14.5497 55.1649 14.5497C54.787 14.5497 54.4873 14.6321 54.2657 14.7969C54.047 14.9616 53.8993 15.1562 53.8226 15.3807L52.3822 15.1761C52.4958 14.7784 52.6833 14.446 52.9447 14.179C53.2061 13.9091 53.5257 13.7074 53.9035 13.5739C54.2814 13.4375 54.699 13.3693 55.1564 13.3693C55.4717 13.3693 55.7856 13.4062 56.0981 13.4801C56.4106 13.554 56.6961 13.6761 56.9547 13.8466C57.2132 14.0142 57.4206 14.2429 57.5768 14.5327C57.7359 14.8224 57.8155 15.1847 57.8155 15.6193V20H56.3325V19.1009H56.2814C56.1876 19.2827 56.0555 19.4531 55.8851 19.6122C55.7174 19.7685 55.5058 19.8949 55.2501 19.9915C54.9973 20.0852 54.7004 20.1321 54.3595 20.1321ZM54.7601 18.9986C55.0697 18.9986 55.3382 18.9375 55.5655 18.8153C55.7927 18.6903 55.9674 18.5256 56.0896 18.321C56.2146 18.1165 56.2771 17.8935 56.2771 17.652V16.8807C56.2288 16.9205 56.1464 16.9574 56.0299 16.9915C55.9163 17.0256 55.7885 17.0554 55.6464 17.081C55.5044 17.1065 55.3637 17.1293 55.2245 17.1491C55.0853 17.169 54.9646 17.1861 54.8623 17.2003C54.6322 17.2315 54.4262 17.2827 54.2444 17.3537C54.0626 17.4247 53.9191 17.5241 53.814 17.652C53.7089 17.777 53.6564 17.9389 53.6564 18.1378C53.6564 18.4219 53.7601 18.6364 53.9674 18.7812C54.1748 18.9261 54.439 18.9986 54.7601 18.9986ZM64.5399 15.1847L63.1336 15.3381C63.0939 15.196 63.0243 15.0625 62.9248 14.9375C62.8282 14.8125 62.6976 14.7116 62.5328 14.6349C62.368 14.5582 62.1663 14.5199 61.9277 14.5199C61.6066 14.5199 61.3368 14.5895 61.118 14.7287C60.9021 14.8679 60.7956 15.0483 60.7984 15.2699C60.7956 15.4602 60.8652 15.6151 61.0072 15.7344C61.1521 15.8537 61.3907 15.9517 61.7231 16.0284L62.8396 16.267C63.4589 16.4006 63.9191 16.6122 64.2203 16.902C64.5243 17.1918 64.6777 17.571 64.6805 18.0398C64.6777 18.4517 64.5569 18.8153 64.3183 19.1307C64.0825 19.4432 63.7544 19.6875 63.3339 19.8636C62.9135 20.0398 62.4305 20.1278 61.8851 20.1278C61.0839 20.1278 60.439 19.9602 59.9504 19.625C59.4618 19.2869 59.1706 18.8168 59.0768 18.2145L60.5811 18.0696C60.6493 18.3651 60.7941 18.5881 61.0157 18.7386C61.2373 18.8892 61.5257 18.9645 61.8808 18.9645C62.2473 18.9645 62.5413 18.8892 62.7629 18.7386C62.9873 18.5881 63.0995 18.402 63.0995 18.1804C63.0995 17.9929 63.0271 17.8381 62.8822 17.7159C62.7402 17.5937 62.5186 17.5 62.2174 17.4347L61.101 17.2003C60.4731 17.0696 60.0086 16.8494 59.7075 16.5398C59.4064 16.2273 59.2572 15.8324 59.2601 15.3551C59.2572 14.9517 59.3666 14.6023 59.5882 14.3068C59.8126 14.0085 60.1237 13.7784 60.5214 13.6165C60.922 13.4517 61.3836 13.3693 61.9064 13.3693C62.6734 13.3693 63.2771 13.5327 63.7174 13.8594C64.1606 14.1861 64.4348 14.6278 64.5399 15.1847ZM67.4951 16.1648V20H65.9525V11.2727H67.461V14.5668H67.5378C67.6912 14.1974 67.9284 13.9062 68.2494 13.6932C68.5733 13.4773 68.9852 13.3693 69.4852 13.3693C69.9397 13.3693 70.336 13.4645 70.6741 13.6548C71.0122 13.8452 71.2735 14.1236 71.4582 14.4901C71.6457 14.8565 71.7395 15.304 71.7395 15.8324V20H70.1968V16.071C70.1968 15.6307 70.0832 15.2884 69.8559 15.044C69.6315 14.7969 69.3162 14.6733 68.9099 14.6733C68.6372 14.6733 68.3929 14.733 68.177 14.8523C67.9639 14.9687 67.7963 15.1378 67.6741 15.3594C67.5548 15.581 67.4951 15.8494 67.4951 16.1648ZM75.1954 20.1321C74.7807 20.1321 74.4071 20.0582 74.0747 19.9105C73.7451 19.7599 73.4838 19.5384 73.2906 19.2457C73.1003 18.9531 73.0051 18.5923 73.0051 18.1634C73.0051 17.794 73.0733 17.4886 73.2096 17.2472C73.346 17.0057 73.5321 16.8125 73.7679 16.6676C74.0037 16.5227 74.2693 16.4134 74.5647 16.3395C74.863 16.2628 75.1713 16.2074 75.4895 16.1733C75.873 16.1335 76.1841 16.098 76.4227 16.0668C76.6613 16.0327 76.8346 15.9815 76.9426 15.9134C77.0534 15.8423 77.1088 15.733 77.1088 15.5852V15.5597C77.1088 15.2386 77.0136 14.9901 76.8233 14.8139C76.6329 14.6378 76.3588 14.5497 76.0008 14.5497C75.623 14.5497 75.3233 14.6321 75.1017 14.7969C74.8829 14.9616 74.7352 15.1562 74.6585 15.3807L73.2182 15.1761C73.3318 14.7784 73.5193 14.446 73.7807 14.179C74.042 13.9091 74.3616 13.7074 74.7395 13.5739C75.1173 13.4375 75.5349 13.3693 75.9923 13.3693C76.3076 13.3693 76.6216 13.4062 76.9341 13.4801C77.2466 13.554 77.5321 13.6761 77.7906 13.8466C78.0491 14.0142 78.2565 14.2429 78.4128 14.5327C78.5718 14.8224 78.6514 15.1847 78.6514 15.6193V20H77.1684V19.1009H77.1173C77.0235 19.2827 76.8914 19.4531 76.721 19.6122C76.5534 19.7685 76.3417 19.8949 76.086 19.9915C75.8332 20.0852 75.5363 20.1321 75.1954 20.1321ZM75.596 18.9986C75.9057 18.9986 76.1741 18.9375 76.4014 18.8153C76.6287 18.6903 76.8034 18.5256 76.9255 18.321C77.0505 18.1165 77.113 17.8935 77.113 17.652V16.8807C77.0647 16.9205 76.9824 16.9574 76.8659 16.9915C76.7522 17.0256 76.6244 17.0554 76.4824 17.081C76.3403 17.1065 76.1997 17.1293 76.0605 17.1491C75.9213 17.169 75.8005 17.1861 75.6983 17.2003C75.4682 17.2315 75.2622 17.2827 75.0804 17.3537C74.8985 17.4247 74.7551 17.5241 74.65 17.652C74.5449 17.777 74.4923 17.9389 74.4923 18.1378C74.4923 18.4219 74.596 18.6364 74.8034 18.7812C75.0108 18.9261 75.275 18.9986 75.596 18.9986ZM83.2473 20V11.2727H86.5882C87.2189 11.2727 87.743 11.3722 88.1606 11.571C88.5811 11.767 88.895 12.0355 89.1024 12.3764C89.3126 12.7173 89.4177 13.1037 89.4177 13.5355C89.4177 13.8906 89.3495 14.1946 89.2132 14.4474C89.0768 14.6974 88.8936 14.9006 88.6635 15.0568C88.4333 15.2131 88.1762 15.3253 87.8922 15.3935V15.4787C88.2018 15.4957 88.4987 15.5909 88.7828 15.7642C89.0697 15.9347 89.3041 16.1761 89.4859 16.4886C89.6677 16.8011 89.7586 17.179 89.7586 17.6222C89.7586 18.0739 89.6493 18.4801 89.4305 18.8409C89.2118 19.1989 88.8822 19.4815 88.4419 19.6889C88.0015 19.8963 87.4476 20 86.7799 20H83.2473ZM84.8282 18.679H86.5285C87.1024 18.679 87.5157 18.5696 87.7686 18.3509C88.0243 18.1293 88.1521 17.8452 88.1521 17.4986C88.1521 17.2401 88.0882 17.0071 87.9603 16.7997C87.8325 16.5895 87.6507 16.4247 87.4149 16.3054C87.1791 16.1832 86.8978 16.1222 86.5711 16.1222H84.8282V18.679ZM84.8282 14.9844H86.3922C86.6649 14.9844 86.9106 14.9347 87.1294 14.8352C87.3481 14.733 87.52 14.5895 87.645 14.4048C87.7728 14.2173 87.8368 13.9957 87.8368 13.7401C87.8368 13.402 87.7174 13.1236 87.4788 12.9048C87.243 12.6861 86.8922 12.5767 86.4262 12.5767H84.8282V14.9844ZM92.6084 16.1648V20H91.0658V11.2727H92.5743V14.5668H92.651C92.8044 14.1974 93.0417 13.9062 93.3627 13.6932C93.6865 13.4773 94.0985 13.3693 94.5985 13.3693C95.053 13.3693 95.4493 13.4645 95.7874 13.6548C96.1255 13.8452 96.3868 14.1236 96.5715 14.4901C96.759 14.8565 96.8527 15.304 96.8527 15.8324V20H95.3101V16.071C95.3101 15.6307 95.1965 15.2884 94.9692 15.044C94.7448 14.7969 94.4294 14.6733 94.0232 14.6733C93.7505 14.6733 93.5061 14.733 93.2902 14.8523C93.0772 14.9687 92.9096 15.1378 92.7874 15.3594C92.6681 15.581 92.6084 15.8494 92.6084 16.1648ZM100.309 20.1321C99.8939 20.1321 99.5204 20.0582 99.188 19.9105C98.8584 19.7599 98.5971 19.5384 98.4039 19.2457C98.2135 18.9531 98.1184 18.5923 98.1184 18.1634C98.1184 17.794 98.1865 17.4886 98.3229 17.2472C98.4593 17.0057 98.6454 16.8125 98.8811 16.6676C99.1169 16.5227 99.3826 16.4134 99.678 16.3395C99.9763 16.2628 100.285 16.2074 100.603 16.1733C100.986 16.1335 101.297 16.098 101.536 16.0668C101.775 16.0327 101.948 15.9815 102.056 15.9134C102.167 15.8423 102.222 15.733 102.222 15.5852V15.5597C102.222 15.2386 102.127 14.9901 101.937 14.8139C101.746 14.6378 101.472 14.5497 101.114 14.5497C100.736 14.5497 100.437 14.6321 100.215 14.7969C99.9962 14.9616 99.8485 15.1562 99.7718 15.3807L98.3314 15.1761C98.4451 14.7784 98.6326 14.446 98.8939 14.179C99.1553 13.9091 99.4749 13.7074 99.8527 13.5739C100.231 13.4375 100.648 13.3693 101.106 13.3693C101.421 13.3693 101.735 13.4062 102.047 13.4801C102.36 13.554 102.645 13.6761 102.904 13.8466C103.162 14.0142 103.37 14.2429 103.526 14.5327C103.685 14.8224 103.765 15.1847 103.765 15.6193V20H102.282V19.1009H102.231C102.137 19.2827 102.005 19.4531 101.834 19.6122C101.667 19.7685 101.455 19.8949 101.199 19.9915C100.946 20.0852 100.65 20.1321 100.309 20.1321ZM100.709 18.9986C101.019 18.9986 101.287 18.9375 101.515 18.8153C101.742 18.6903 101.917 18.5256 102.039 18.321C102.164 18.1165 102.226 17.8935 102.226 17.652V16.8807C102.178 16.9205 102.096 16.9574 101.979 16.9915C101.866 17.0256 101.738 17.0554 101.596 17.081C101.454 17.1065 101.313 17.1293 101.174 17.1491C101.035 17.169 100.914 17.1861 100.812 17.2003C100.581 17.2315 100.375 17.2827 100.194 17.3537C100.012 17.4247 99.8684 17.5241 99.7633 17.652C99.6581 17.777 99.6056 17.9389 99.6056 18.1378C99.6056 18.4219 99.7093 18.6364 99.9167 18.7812C100.124 18.9261 100.388 18.9986 100.709 18.9986ZM105.316 20V13.4545H106.812V14.5455H106.88C106.999 14.1676 107.204 13.8764 107.493 13.6719C107.786 13.4645 108.12 13.3608 108.495 13.3608C108.58 13.3608 108.675 13.3651 108.78 13.3736C108.888 13.3793 108.978 13.3892 109.049 13.4034V14.8224C108.983 14.7997 108.88 14.7798 108.738 14.7628C108.598 14.7429 108.464 14.733 108.333 14.733C108.052 14.733 107.799 14.794 107.574 14.9162C107.353 15.0355 107.178 15.2017 107.05 15.4148C106.922 15.6278 106.858 15.8736 106.858 16.152V20H105.316ZM111.84 20.1321C111.425 20.1321 111.052 20.0582 110.719 19.9105C110.39 19.7599 110.128 19.5384 109.935 19.2457C109.745 18.9531 109.65 18.5923 109.65 18.1634C109.65 17.794 109.718 17.4886 109.854 17.2472C109.991 17.0057 110.177 16.8125 110.412 16.6676C110.648 16.5227 110.914 16.4134 111.209 16.3395C111.508 16.2628 111.816 16.2074 112.134 16.1733C112.518 16.1335 112.829 16.098 113.067 16.0668C113.306 16.0327 113.479 15.9815 113.587 15.9134C113.698 15.8423 113.753 15.733 113.753 15.5852V15.5597C113.753 15.2386 113.658 14.9901 113.468 14.8139C113.277 14.6378 113.003 14.5497 112.645 14.5497C112.268 14.5497 111.968 14.6321 111.746 14.7969C111.527 14.9616 111.38 15.1562 111.303 15.3807L109.863 15.1761C109.976 14.7784 110.164 14.446 110.425 14.179C110.687 13.9091 111.006 13.7074 111.384 13.5739C111.762 13.4375 112.179 13.3693 112.637 13.3693C112.952 13.3693 113.266 13.4062 113.579 13.4801C113.891 13.554 114.177 13.6761 114.435 13.8466C114.694 14.0142 114.901 14.2429 115.057 14.5327C115.216 14.8224 115.296 15.1847 115.296 15.6193V20H113.813V19.1009H113.762C113.668 19.2827 113.536 19.4531 113.366 19.6122C113.198 19.7685 112.986 19.8949 112.731 19.9915C112.478 20.0852 112.181 20.1321 111.84 20.1321ZM112.241 18.9986C112.55 18.9986 112.819 18.9375 113.046 18.8153C113.273 18.6903 113.448 18.5256 113.57 18.321C113.695 18.1165 113.758 17.8935 113.758 17.652V16.8807C113.709 16.9205 113.627 16.9574 113.51 16.9915C113.397 17.0256 113.269 17.0554 113.127 17.081C112.985 17.1065 112.844 17.1293 112.705 17.1491C112.566 17.169 112.445 17.1861 112.343 17.2003C112.113 17.2315 111.907 17.2827 111.725 17.3537C111.543 17.4247 111.4 17.5241 111.295 17.652C111.189 17.777 111.137 17.9389 111.137 18.1378C111.137 18.4219 111.241 18.6364 111.448 18.7812C111.655 18.9261 111.92 18.9986 112.241 18.9986ZM119.892 20V11.2727H121.473V14.9673H125.517V11.2727H127.102V20H125.517V16.2926H121.473V20H119.892ZM131.608 20.1278C130.969 20.1278 130.415 19.9872 129.946 19.706C129.478 19.4247 129.114 19.0312 128.856 18.5256C128.6 18.0199 128.472 17.429 128.472 16.7528C128.472 16.0767 128.6 15.4844 128.856 14.9759C129.114 14.4673 129.478 14.0724 129.946 13.7912C130.415 13.5099 130.969 13.3693 131.608 13.3693C132.248 13.3693 132.802 13.5099 133.27 13.7912C133.739 14.0724 134.101 14.4673 134.357 14.9759C134.616 15.4844 134.745 16.0767 134.745 16.7528C134.745 17.429 134.616 18.0199 134.357 18.5256C134.101 19.0312 133.739 19.4247 133.27 19.706C132.802 19.9872 132.248 20.1278 131.608 20.1278ZM131.617 18.892C131.964 18.892 132.253 18.7969 132.486 18.6065C132.719 18.4134 132.893 18.1548 133.006 17.831C133.123 17.5071 133.181 17.1463 133.181 16.7486C133.181 16.348 133.123 15.9858 133.006 15.6619C132.893 15.3352 132.719 15.0753 132.486 14.8821C132.253 14.6889 131.964 14.5923 131.617 14.5923C131.262 14.5923 130.966 14.6889 130.731 14.8821C130.498 15.0753 130.323 15.3352 130.206 15.6619C130.093 15.9858 130.036 16.348 130.036 16.7486C130.036 17.1463 130.093 17.5071 130.206 17.831C130.323 18.1548 130.498 18.4134 130.731 18.6065C130.966 18.7969 131.262 18.892 131.617 18.892ZM136.122 20V11.2727H137.665V14.5369H137.729C137.808 14.3778 137.921 14.2088 138.065 14.0298C138.21 13.848 138.406 13.6932 138.654 13.5653C138.901 13.4347 139.216 13.3693 139.6 13.3693C140.105 13.3693 140.561 13.4986 140.967 13.7571C141.377 14.0128 141.7 14.392 141.939 14.8949C142.181 15.3949 142.301 16.0085 142.301 16.7358C142.301 17.4545 142.183 18.0653 141.948 18.5682C141.712 19.071 141.391 19.4545 140.984 19.7188C140.578 19.983 140.118 20.1151 139.604 20.1151C139.229 20.1151 138.918 20.0526 138.671 19.9276C138.423 19.8026 138.225 19.652 138.074 19.4759C137.926 19.2969 137.811 19.1278 137.729 18.9688H137.639V20H136.122ZM137.635 16.7273C137.635 17.1506 137.695 17.5213 137.814 17.8395C137.936 18.1577 138.111 18.4062 138.338 18.5852C138.568 18.7614 138.847 18.8494 139.173 18.8494C139.514 18.8494 139.8 18.7585 140.03 18.5767C140.26 18.392 140.433 18.1406 140.55 17.8224C140.669 17.5014 140.729 17.1364 140.729 16.7273C140.729 16.321 140.671 15.9602 140.554 15.6449C140.438 15.3295 140.264 15.0824 140.034 14.9034C139.804 14.7244 139.517 14.6349 139.173 14.6349C138.844 14.6349 138.564 14.7216 138.334 14.8949C138.104 15.0682 137.929 15.3111 137.81 15.6236C137.693 15.9361 137.635 16.304 137.635 16.7273ZM146.51 20.1278C145.854 20.1278 145.287 19.9915 144.81 19.7188C144.336 19.4432 143.971 19.054 143.715 18.5511C143.459 18.0455 143.331 17.4503 143.331 16.7656C143.331 16.0923 143.459 15.5014 143.715 14.9929C143.973 14.4815 144.334 14.0838 144.797 13.7997C145.26 13.5128 145.804 13.3693 146.429 13.3693C146.833 13.3693 147.214 13.4347 147.571 13.5653C147.932 13.6932 148.25 13.892 148.526 14.1619C148.804 14.4318 149.023 14.7756 149.182 15.1932C149.341 15.608 149.421 16.1023 149.421 16.6761V17.1491H144.056V16.1094H147.942C147.939 15.8139 147.875 15.5511 147.75 15.321C147.625 15.0881 147.451 14.9048 147.226 14.7713C147.005 14.6378 146.746 14.571 146.451 14.571C146.135 14.571 145.858 14.6477 145.62 14.8011C145.381 14.9517 145.195 15.1506 145.062 15.3977C144.931 15.642 144.864 15.9105 144.861 16.2031V17.1108C144.861 17.4915 144.931 17.8182 145.07 18.0909C145.209 18.3608 145.404 18.5682 145.654 18.7131C145.904 18.8551 146.196 18.9261 146.532 18.9261C146.756 18.9261 146.959 18.8949 147.141 18.8324C147.323 18.767 147.481 18.6719 147.614 18.5469C147.748 18.4219 147.848 18.267 147.917 18.0824L149.357 18.2443C149.266 18.625 149.093 18.9574 148.837 19.2415C148.584 19.5227 148.26 19.7415 147.866 19.8977C147.471 20.0511 147.019 20.1278 146.51 20.1278Z" fill="white" />
                            <defs>
                                <clipPath id="clip0_123_43">
                                    <rect x="24.3982" y="14.7825" width="6.8193" height="6.8193" rx="0.5" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>
                <div className='flex gap-2 text-sm'>
                    <button onClick={handleDownloadImage} className='p-2 dark:bg-subtitle-dark bg-subtitle-light dark:text-card-dark text-card-light font-medium py-2 rounded-2xl dark:hover:bg-description-dark hover:bg-title-light transition cursor-pointer'>
                        Download Image
                    </button>
                    <button onClick={handleDownloadPdf} className='p-2 dark:bg-subtitle-dark bg-subtitle-light dark:text-card-dark text-card-light font-medium py-2 rounded-2xl dark:hover:bg-description-dark hover:bg-title-light transition cursor-pointer'>
                        Download PDF
                    </button>
                </div>
            </div>
        </div>
    )
}

export default QrCode